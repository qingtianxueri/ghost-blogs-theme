!function(e,t){window.defaultApp=window.defaultApp||{},window.defaultApp={callFunc:[function(t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=o(6),a=(i(r),o(5)),s=(i(a),o(4)),l=i(s),c=o(3),u=i(c),h=o(1),p=(i(h),o(2)),d=i(p);!function(){function t(){e(".post-image").css("display","none");var t=e('iframe[src*="youtube.com"]')[0];if(m.find(".video-featured").prepend(t),"undefined"!=typeof youtube){m.find(".video-content").removeAttr("style"),e.each(youtube,function(t,n){m.find(".channel-name").html("Subscribe to <strong>"+t+"</strong>"),e(".g-ytsubscribe").attr("data-channelid",n)});var n=document.createElement("script");n.src="https://apis.google.com/js/platform.js",document.body.appendChild(n)}}function n(){e(".post-body").each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]'],n=e(this).find(t.join(","));n.each(function(){e(this).wrap('<aside class="video-responsive"></aside>')})})}function o(){if(g.length>0){var e=new u.default(g);e.godoCount()}}function i(t){e.each(t,function(e,t){if("string"==typeof t&&w.test(t)){var n='<a title="'+e+'" href="'+t+'" target="_blank" class="i-'+e+'"></a>';v.append(n)}})}function r(){if("undefined"!=typeof disqus_shortname){p.removeAttr("style");var e=document,t=e.createElement("script");t.src="//"+disqus_shortname+".disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)}}function a(){var e=y.offset().top;x.on("scroll",function(){var t=x.scrollTop();t>e-78?y.addClass("active"):y.removeClass("active")})}var s=e("#header"),c=e("#cover"),h=e(".search-field"),p=e("#post-comments"),f=e("#post-related"),g=e(".share-count"),m=e("#video-format"),v=e(".social_box"),y=e("#sidebar").find(".fixed"),b=e(".scroll_top"),k=e("body").attr("mapache-page-url"),w=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \+\.-]*)*\/?$/,S=e(document),x=e(window);e(".share").bind("click",function(t){t.preventDefault();var n=new l.default(e(this));n.godoShare()}),e("#nav-mob-toggle").on("click",function(t){t.preventDefault(),e("body").toggleClass("is-showNavMob")}),e("#search-mob-toggle").on("click",function(e){e.preventDefault(),s.toggleClass("is-showSearchMob"),h.focus()}),"undefined"!=typeof title_home&&e("#title-home").html(title_home),h.focus(function(){s.addClass("is-showSearch"),e(".search-popout").removeClass("closed")}),h.blur(function(){setTimeout(function(){s.removeClass("is-showSearch"),e(".search-popout").addClass("closed")},200)}),h.keyup(function(){e(".search-suggest-results").css("display","block")}),h.ghostHunter({results:"#search-results",zeroResultsInfo:!1,displaySearchInfo:!1,result_template:'<a href="'+k+'{{link}}">{{title}}</a>',onKeyUp:!0}),c.length>0&&x.on("scroll",function(){var t=x.scrollTop(),n=c.height()-s.height(),o=(n-t)/n;t>=n?s.addClass("toolbar-shadow").removeAttr("style"):s.removeClass("toolbar-shadow").css({background:"transparent"}),e(".cover-wrap").css("opacity",o)}),e(".scrolltop").on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:e(e(this).attr("href")).offset().top-50},500,"linear")}),x.on("scroll",function(){e(this).scrollTop()>100?b.addClass("visible"):b.removeClass("visible")}),b.on("click",function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},500)}),S.on("ready",function(){if(o(),"undefined"!=typeof social_link&&i(social_link),p.length>0&&r(),"undefined"!=typeof disqus_shortname&&"undefined"!=typeof disqusPublicKey&&commentsCount(),m.length>0&&t(),n(),y.length>0&&a(),f.length>0){var e=new d.default(f,k);e.mapacheGet()}Prism.plugins.autoloader.languages_path="../assets/js/prism-components/"})}()},function(t,n){"use strict";e(document).on("ready",function(){})},function(t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function t(e,n){o(this,t),this.elem=e,this.postID=e.attr("mapache-post-id"),this.postTotal=e.attr("mapache-post-total"),this.postTags=e.attr("mapache-tag"),this.urlApi=ghost.url.api("posts",{include:"tags"}),this.count=0,this.pageUrl=n}return i(t,[{key:"mapacheCallback",value:function(t){var n=this,o="";t.forEach(function(e){for(var t=0;t<e.tags.length;t++)e.tags[t].id==n.postTags&&e.id!=n.postID&&n.count<n.postTotal&&(o+=n.mapacheTemplate(e),n.count++)}),0==this.count&&this.elem.css("display","none"),e("#post-related-wrap").html(o)}},{key:"mapacheTemplate",value:function(e){var t="",n="",o="no-image",i=e.title,r=e.url;return null!==e.image&&(n='\n\t\t\t<figure class="entry-image">\n\t\t\t\t<a href="'+this.pageUrl+r+'" class="entry-image--link">\n\t\t\t\t\t<span class="entry-image--bg" style="background-image:url('+e.image+')"></span>\n\t\t\t\t</a>\n\t\t\t</figure>',o=""),t='\n\t\t<div class="col s12 m6 l4 '+o+'">\n\t\t\t<div class="entry entry--small">\n\t\t\t\t'+n+'\n\t\t\t\t<h3 class="entry-title"><a href="'+this.pageUrl+r+'">'+i+"</a></h3>\n\t\t\t</div>\n\t\t</div>"}},{key:"mapacheGet",value:function(){var e=this;fetch(this.urlApi).then(function(e){return e.json()}).then(function(t){e.mapacheCallback(t.posts)})}}]),t}();t.exports=r},function(t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function t(e){o(this,t),this.elem=e,this.url=e.attr("godo-url"),this.total=0}return i(t,[{key:"convertNumber",value:function(e){return e>=1e9?(e/1e9).toFixed(1)+"G":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e}},{key:"addCounter",value:function(e){this.total=this.total+e}},{key:"updateCounter",value:function(){this.elem.html(""+this.convertNumber(this.total))}},{key:"godoCount",value:function(){var t=this;e.getJSON("https://graph.facebook.com/?id="+encodeURIComponent(this.url)+"&callback=?",function(e){void 0!==e.share&&(t.addCounter(e.share.share_count),t.updateCounter())})}}]),t}();t.exports=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){n(this,e),this.elem=t}return o(e,[{key:"godoValue",value:function(e){var t=this.elem.attr("godo-"+e);return void 0!==t&&null!==t&&t}},{key:"godoShare",value:function(){var e=this.godoValue("share").toLowerCase(),t={facebook:{shareUrl:"https://www.facebook.com/sharer/sharer.php",params:{u:this.godoValue("url")}},twitter:{shareUrl:"https://twitter.com/intent/tweet/",params:{text:this.godoValue("title"),url:this.godoValue("url")}},reddit:{shareUrl:"https://www.reddit.com/submit",params:{url:this.godoValue("url")}},pinterest:{shareUrl:"https://www.pinterest.com/pin/create/button/",params:{url:this.godoValue("url"),description:this.godoValue("title")}},linkedin:{shareUrl:"https://www.linkedin.com/shareArticle",params:{url:this.godoValue("url"),mini:!0}},pocket:{shareUrl:"https://getpocket.com/save",params:{url:this.godoValue("url")}}},n=t[e];return void 0!==n&&this.godoPopup(n)}},{key:"godoPopup",value:function(e){var t,n=e.params||{},o=Object.keys(n),i=o.length>0?"?":"";for(t=0;t<o.length;t++)"?"!==i&&(i+="&"),n[o[t]]&&(i+=o[t]+"="+encodeURIComponent(n[o[t]]));if(e.shareUrl+=i,e.isLink)window.location.href=e.shareUrl;else{var r=e.width||600,a=e.height||480,s=window.innerWidth/2-r/2+window.screenX,l=window.innerHeight/2-a/2+window.screenY,c="scrollbars=no, width="+r+", height="+a+", top="+l+", left="+s,u=window.open(e.shareUrl,"",c);window.focus&&u.focus()}}}]),e}();e.exports=i},function(e,t){"use strict";!function(t){var n=function e(t){var n=new e.Index;return n.pipeline.add(e.stopWordFilter,e.stemmer),t&&t.call(n,n),n};n.version="0.4.3","undefined"!=typeof e&&(e.exports=n),n.utils={},n.utils.warn=function(e){return function(t){e.console&&console.warn&&console.warn(t)}}(this),n.utils.zeroFillArray=function(){var e=[0];return function(t){for(;t>e.length;)e=e.concat(e);return e.slice(0,t)}}(),n.EventEmitter=function(){this.events={}},n.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},n.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);this.events[e].splice(n,1),this.events[e].length||delete this.events[e]}},n.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)})}},n.EventEmitter.prototype.hasHandler=function(e){return e in this.events},n.tokenizer=function(e){if(!arguments.length||null==e||void 0==e)return[];if(Array.isArray(e))return e.map(function(e){return e.toLowerCase()});for(var t=(""+e).replace(/^\s+/,""),n=t.length-1;n>=0;n--)if(/\S/.test(t.charAt(n))){t=t.substring(0,n+1);break}return t.split(/\s+/).map(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase()})},n.Pipeline=function(){this._stack=[]},n.Pipeline.registeredFunctions={},n.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&n.utils.warn("Overwriting existing registered function: "+t),e.label=t,n.Pipeline.registeredFunctions[e.label]=e},n.Pipeline.warnIfFunctionNotRegistered=function(e){var t=e.label&&e.label in this.registeredFunctions;t||n.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},n.Pipeline.load=function(e){var t=new n.Pipeline;return e.forEach(function(e){var o=n.Pipeline.registeredFunctions[e];if(!o)throw Error("Cannot load un-registered function: "+e);t.add(o)}),t},n.Pipeline.prototype.add=function(){var e=Array.prototype.slice.call(arguments);e.forEach(function(e){n.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},n.Pipeline.prototype.after=function(e,t){n.Pipeline.warnIfFunctionNotRegistered(t);var o=this._stack.indexOf(e)+1;this._stack.splice(o,0,t)},n.Pipeline.prototype.before=function(e,t){n.Pipeline.warnIfFunctionNotRegistered(t);var o=this._stack.indexOf(e);this._stack.splice(o,0,t)},n.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);this._stack.splice(t,1)},n.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,o=this._stack.length,i=0;n>i;i++){for(var r=e[i],a=0;o>a&&(r=this._stack[a](r,i,e),void 0!==r);a++);void 0!==r&&t.push(r)}return t},n.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return n.Pipeline.warnIfFunctionNotRegistered(e),e.label})},n.Vector=function(e){this.elements=e},n.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e,t=0,n=this.elements,o=n.length,i=0;o>i;i++)e=n[i],t+=e*e;return this._magnitude=Math.sqrt(t)},n.Vector.prototype.dot=function(e){for(var t=this.elements,n=e.elements,o=t.length,i=0,r=0;o>r;r++)i+=t[r]*n[r];return i},n.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},n.Vector.prototype.toArray=function(){return this.elements},n.SortedSet=function(){this.length=0,this.elements=[]},n.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},n.SortedSet.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e)},this),this.length=this.elements.length},n.SortedSet.prototype.toArray=function(){return this.elements.slice()},n.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},n.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},n.SortedSet.prototype.indexOf=function(e,t,n){var t=t||0,n=n||this.elements.length,o=n-t,i=t+Math.floor(o/2),r=this.elements[i];return 1>=o?r===e?i:-1:e>r?this.indexOf(e,i,n):r>e?this.indexOf(e,t,i):r===e?i:void 0},n.SortedSet.prototype.locationFor=function(e,t,n){var t=t||0,n=n||this.elements.length,o=n-t,i=t+Math.floor(o/2),r=this.elements[i];if(1>=o){if(r>e)return i;if(e>r)return i+1}return e>r?this.locationFor(e,i,n):r>e?this.locationFor(e,t,i):void 0},n.SortedSet.prototype.intersect=function(e){for(var t=new n.SortedSet,o=0,i=0,r=this.length,a=e.length,s=this.elements,l=e.elements;!(o>r-1||i>a-1);)s[o]!==l[i]?s[o]<l[i]?o++:s[o]>l[i]&&i++:(t.add(s[o]),o++,i++);return t},n.SortedSet.prototype.clone=function(){var e=new n.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},n.SortedSet.prototype.union=function(e){var t,n,o;return this.length>=e.length?(t=this,n=e):(t=e,n=this),o=t.clone(),o.add.apply(o,n.toArray()),o},n.SortedSet.prototype.toJSON=function(){return this.toArray()},n.Index=function(){this._fields=[],this._ref="id",this.pipeline=new n.Pipeline,this.documentStore=new n.Store,this.tokenStore=new n.TokenStore,this.corpusTokens=new n.SortedSet,this.eventEmitter=new n.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},n.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},n.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},n.Index.load=function(e){e.version!==n.version&&n.utils.warn("version mismatch: current "+n.version+" importing "+e.version);var t=new this;return t._fields=e.fields,t._ref=e.ref,t.documentStore=n.Store.load(e.documentStore),t.tokenStore=n.TokenStore.load(e.tokenStore),t.corpusTokens=n.SortedSet.load(e.corpusTokens),t.pipeline=n.Pipeline.load(e.pipeline),t},n.Index.prototype.field=function(e,t){var t=t||{},n={name:e,boost:t.boost||1};return this._fields.push(n),this},n.Index.prototype.ref=function(e){return this._ref=e,this},n.Index.prototype.add=function(e,t){var o={},i=new n.SortedSet,r=e[this._ref],t=void 0===t||t;this._fields.forEach(function(t){var r=this.pipeline.run(n.tokenizer(e[t.name]));o[t.name]=r,n.SortedSet.prototype.add.apply(i,r)},this),this.documentStore.set(r,i),n.SortedSet.prototype.add.apply(this.corpusTokens,i.toArray());for(var a=0;i.length>a;a++){var s=i.elements[a],l=this._fields.reduce(function(e,t){var n=o[t.name].length;if(!n)return e;var i=o[t.name].filter(function(e){return e===s}).length;return e+i/n*t.boost},0);this.tokenStore.add(s,{ref:r,tf:l})}t&&this.eventEmitter.emit("add",e,this)},n.Index.prototype.remove=function(e,t){var n=e[this._ref],t=void 0===t||t;if(this.documentStore.has(n)){var o=this.documentStore.get(n);this.documentStore.remove(n),o.forEach(function(e){this.tokenStore.remove(e,n)},this),t&&this.eventEmitter.emit("remove",e,this)}},n.Index.prototype.update=function(e,t){var t=void 0===t||t;this.remove(e,!1),this.add(e,!1),t&&this.eventEmitter.emit("update",e,this)},n.Index.prototype.idf=function(e){if(this._idfCache[e])return this._idfCache[e];var t=this.tokenStore.count(e),n=1;return t>0&&(n=1+Math.log(this.tokenStore.length/t)),this._idfCache[e]=n},n.Index.prototype.search=function(e){var t=this.pipeline.run(n.tokenizer(e)),o=n.utils.zeroFillArray(this.corpusTokens.length),i=[],r=this._fields.reduce(function(e,t){return e+t.boost},0),a=t.some(function(e){return this.tokenStore.has(e)},this);if(!a)return[];t.forEach(function(e,t,a){var s=1/a.length*this._fields.length*r,l=this,c=this.tokenStore.expand(e).reduce(function(t,i){var r=l.corpusTokens.indexOf(i),a=l.idf(i),c=1,u=new n.SortedSet;if(i!==e){var h=Math.max(3,i.length-e.length);c=1/Math.log(h)}return r>-1&&(o[r]=s*a*c),Object.keys(l.tokenStore.get(i)).forEach(function(e){u.add(e)}),t.union(u)},new n.SortedSet);i.push(c)},this);var s=i.reduce(function(e,t){return e.intersect(t)}),l=new n.Vector(o);return s.map(function(e){return{ref:e,score:l.similarity(this.documentVector(e))}},this).sort(function(e,t){return t.score-e.score})},n.Index.prototype.documentVector=function(e){for(var t=this.documentStore.get(e),o=t.length,i=n.utils.zeroFillArray(this.corpusTokens.length),r=0;o>r;r++){var a=t.elements[r],s=this.tokenStore.get(a)[e].tf,l=this.idf(a);i[this.corpusTokens.indexOf(a)]=s*l}return new n.Vector(i)},n.Index.prototype.toJSON=function(){return{version:n.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},n.Store=function(){this.store={},this.length=0},n.Store.load=function(e){var t=new this;return t.length=e.length,t.store=Object.keys(e.store).reduce(function(t,o){return t[o]=n.SortedSet.load(e.store[o]),t},{}),t},n.Store.prototype.set=function(e,t){this.store[e]=t,this.length=Object.keys(this.store).length},n.Store.prototype.get=function(e){return this.store[e]},n.Store.prototype.has=function(e){return e in this.store},n.Store.prototype.remove=function(e){this.has(e)&&(delete this.store[e],this.length--)},n.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},n.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},n="[^aeiou]",o="[aeiouy]",i=n+"[^aeiouy]*",r=o+"[aeiou]*",a="^("+i+")?"+r+i,s="^("+i+")?"+r+i+"("+r+")?$",l="^("+i+")?"+r+i+r+i,c="^("+i+")?"+o;return function(n){var r,u,h,p,d,f,g;if(3>n.length)return n;if(h=n.substr(0,1),"y"==h&&(n=h.toUpperCase()+n.substr(1)),p=/^(.+?)(ss|i)es$/,d=/^(.+?)([^s])s$/,p.test(n)?n=n.replace(p,"$1$2"):d.test(n)&&(n=n.replace(d,"$1$2")),p=/^(.+?)eed$/,d=/^(.+?)(ed|ing)$/,p.test(n)){var m=p.exec(n);p=RegExp(a),p.test(m[1])&&(p=/.$/,n=n.replace(p,""))}else if(d.test(n)){var m=d.exec(n);r=m[1],d=RegExp(c),d.test(r)&&(n=r,d=/(at|bl|iz)$/,f=RegExp("([^aeiouylsz])\\1$"),g=RegExp("^"+i+o+"[^aeiouwxy]$"),d.test(n)?n+="e":f.test(n)?(p=/.$/,n=n.replace(p,"")):g.test(n)&&(n+="e"))}if(p=/^(.+?)y$/,p.test(n)){var m=p.exec(n);r=m[1],p=RegExp(c),p.test(r)&&(n=r+"i")}if(p=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,p.test(n)){var m=p.exec(n);r=m[1],u=m[2],p=RegExp(a),p.test(r)&&(n=r+e[u])}if(p=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,p.test(n)){var m=p.exec(n);r=m[1],u=m[2],p=RegExp(a),p.test(r)&&(n=r+t[u])}if(p=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,d=/^(.+?)(s|t)(ion)$/,p.test(n)){var m=p.exec(n);r=m[1],p=RegExp(l),p.test(r)&&(n=r)}else if(d.test(n)){var m=d.exec(n);r=m[1]+m[2],d=RegExp(l),d.test(r)&&(n=r)}if(p=/^(.+?)e$/,p.test(n)){var m=p.exec(n);r=m[1],p=RegExp(l),d=RegExp(s),f=RegExp("^"+i+o+"[^aeiouwxy]$"),(p.test(r)||d.test(r)&&!f.test(r))&&(n=r)}return p=/ll$/,d=RegExp(l),p.test(n)&&d.test(n)&&(p=/.$/,n=n.replace(p,"")),"y"==h&&(n=h.toLowerCase()+n.substr(1)),n}}(),n.Pipeline.registerFunction(n.stemmer,"stemmer"),n.stopWordFilter=function(e){return-1===n.stopWordFilter.stopWords.indexOf(e)?e:void 0},n.stopWordFilter.stopWords=new n.SortedSet,n.stopWordFilter.stopWords.length=119,n.stopWordFilter.stopWords.elements=["","a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"],n.Pipeline.registerFunction(n.stopWordFilter,"stopWordFilter"),n.TokenStore=function(){this.root={docs:{}},this.length=0},n.TokenStore.load=function(e){var t=new this;return t.root=e.root,t.length=e.length,t},n.TokenStore.prototype.add=function(e,t,n){var n=n||this.root,o=e[0],i=e.slice(1);return o in n||(n[o]={docs:{}}),0===i.length?(n[o].docs[t.ref]=t,void(this.length+=1)):this.add(i,t,n[o])},n.TokenStore.prototype.has=function(e){if(!e)return!1;for(var t=this.root,n=0;e.length>n;n++){if(!t[e[n]])return!1;t=t[e[n]]}return!0},n.TokenStore.prototype.getNode=function(e){if(!e)return{};for(var t=this.root,n=0;e.length>n;n++){if(!t[e[n]])return{};t=t[e[n]]}return t},n.TokenStore.prototype.get=function(e,t){return this.getNode(e,t).docs||{}},n.TokenStore.prototype.count=function(e,t){return Object.keys(this.get(e,t)).length},n.TokenStore.prototype.remove=function(e,t){if(e){for(var n=this.root,o=0;e.length>o;o++){if(!(e[o]in n))return;n=n[e[o]]}delete n.docs[t]}},n.TokenStore.prototype.expand=function(e,t){var n=this.getNode(e),o=n.docs||{},t=t||[];return Object.keys(o).length&&t.push(e),Object.keys(n).forEach(function(n){"docs"!==n&&t.concat(this.expand(e+n,t))},this),t},n.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},t.fn.ghostHunter=function(e){var n=t.extend({},t.fn.ghostHunter.defaults,e);if(n.results)return i.init(this,n),i},t.fn.ghostHunter.defaults={results:!1,onKeyUp:!1,result_template:"<a href='{{link}}'><p><h2>{{title}}</h2><h4>{{prettyPubDate}}</h4></p></a>",info_template:"<p>Number of posts found: {{amount}}</p>",displaySearchInfo:!0,zeroResultsInfo:!0,before:!1,onComplete:!1};var o=function(e){var t=new Date(e),n=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.getDate()+" "+n[t.getMonth()]+" "+t.getFullYear()},i={isInit:!1,init:function(e,t){var o=this;this.target=e,this.results=t.results,this.blogData={},this.result_template=t.result_template,this.info_template=t.info_template,this.zeroResultsInfo=t.zeroResultsInfo,this.displaySearchInfo=t.displaySearchInfo,this.before=t.before,this.onComplete=t.onComplete,this.index=n(function(){this.field("title",{boost:10}),this.field("description"),this.field("link"),this.field("markdown",{boost:5}),this.field("pubDate"),this.field("tag"),this.ref("id")}),e.focus(function(){o.loadAPI()}),e.closest("form").submit(function(t){t.preventDefault(),o.find(e.val())}),t.onKeyUp&&(o.loadAPI(),e.keyup(function(){o.find(e.val())}))},loadAPI:function(){var e=this.index,n=this.blogData;t.get(ghost.url.api("posts",{limit:"all",include:"tags"})).done(function(t){var i=t.posts;i.forEach(function(t){var i=t.tags.map(function(e){return e.name}),r=i.join(", ");r.length<1&&(r="undefined");var a={id:String(t.id),title:String(t.title),description:String(t.meta_description),markdown:String(t.markdown),pubDate:String(t.created_at),tag:r,link:String(t.url)};a.prettyPubDate=o(a.pubDate);var s=o(a.pubDate);e.add(a),n[t.id]={title:t.title,description:t.meta_description,pubDate:s,link:t.url}})}),this.isInit=!0},find:function(e){var n=this.index.search(e),o=t(this.results),i=[];o.empty(),this.before&&this.before(),(this.zeroResultsInfo||n.length>0)&&this.displaySearchInfo&&o.append(this.format(this.info_template,{amount:n.length}));for(var r=0;r<n.length;r++){var a=n[r].ref,s=this.blogData[a];o.append(this.format(this.result_template,s)),i.push(s)}this.onComplete&&this.onComplete(i)},clear:function(){t(this.results).empty(),this.target.val("")},format:function(e,t){return e.replace(/{{([^{}]*)}}/g,function(e,n){var o=t[n];return"string"==typeof o||"number"==typeof o?o:e})}}}(jQuery)},function(e,t){(function(t){"use strict";var n="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},o=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,o=n.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,o.util.encode(e.content),e.alias):"Array"===o.util.type(e)?e.map(o.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=o.util.type(e);switch(t){case"Object":var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=o.util.clone(e[i]));return n;case"Array":return e.map&&e.map(function(e){return o.util.clone(e)})}return e}},languages:{extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){i=i||o.languages;var r=i[e];if(2==arguments.length){n=arguments[1];for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a]);return r}var s={};for(var l in r)if(r.hasOwnProperty(l)){if(l==t)for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);s[l]=r[l]}return o.languages.DFS(o.languages,function(t,n){n===i[e]&&t!=e&&(this[t]=s)}),i[e]=s},DFS:function(e,t,n,i){i=i||{};for(var r in e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],n||r),"Object"!==o.util.type(e[r])||i[o.util.objId(e[r])]?"Array"!==o.util.type(e[r])||i[o.util.objId(e[r])]||(i[o.util.objId(e[r])]=!0,o.languages.DFS(e[r],t,r,i)):(i[o.util.objId(e[r])]=!0,o.languages.DFS(e[r],t,null,i)))}},plugins:{},highlightAll:function(e,t){var n={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",n);for(var i,r=n.elements||document.querySelectorAll(n.selector),a=0;i=r[a++];)o.highlightElement(i,e===!0,n.callback)},highlightElement:function(t,i,r){for(var a,s,l=t;l&&!e.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(e)||[,""])[1].toLowerCase(),s=o.languages[a]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=t.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=t.textContent,u={element:t,language:a,grammar:s,code:c};if(o.hooks.run("before-sanity-check",u),!u.code||!u.grammar)return void o.hooks.run("complete",u);if(o.hooks.run("before-highlight",u),i&&n.Worker){var h=new Worker(o.filename);h.onmessage=function(e){u.highlightedCode=e.data,o.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),o.hooks.run("after-highlight",u),o.hooks.run("complete",u)},h.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=o.highlight(u.code,u.grammar,u.language),o.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),o.hooks.run("after-highlight",u),o.hooks.run("complete",u)},highlight:function(e,t,n){var r=o.tokenize(e,t);return i.stringify(o.util.encode(r),n)},tokenize:function(e,t){var n=o.Token,i=[e],r=t.rest;if(r){for(var a in r)t[a]=r[a];delete t.rest}e:for(var a in t)if(t.hasOwnProperty(a)&&t[a]){var s=t[a];s="Array"===o.util.type(s)?s:[s];for(var l=0;l<s.length;++l){var c=s[l],u=c.inside,h=!!c.lookbehind,p=!!c.greedy,d=0,f=c.alias;if(p&&!c.pattern.global){var g=c.pattern.toString().match(/[imuy]*$/)[0];c.pattern=RegExp(c.pattern.source,g+"g")}c=c.pattern||c;for(var m=0,v=0;m<i.length;v+=(i[m].matchedStr||i[m]).length,++m){var y=i[m];if(i.length>e.length)break e;if(!(y instanceof n)){c.lastIndex=0;var b=c.exec(y),k=1;if(!b&&p&&m!=i.length-1){if(c.lastIndex=v,b=c.exec(e),!b)break;for(var w=b.index+(h?b[1].length:0),S=b.index+b[0].length,x=m,_=v,C=i.length;C>x&&S>_;++x)_+=(i[x].matchedStr||i[x]).length,w>=_&&(++m,v=_);if(i[m]instanceof n||i[x-1].greedy)continue;k=x-m,y=e.slice(v,_),b.index-=v}if(b){h&&(d=b[1].length);var w=b.index+d,b=b[0].slice(d),S=w+b.length,A=y.slice(0,w),E=y.slice(S),j=[m,k];A&&j.push(A);var T=new n(a,u?o.tokenize(b,u):b,f,b,p);j.push(T),E&&j.push(E),Array.prototype.splice.apply(i,j)}}}}}return i},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var i,r=0;i=n[r++];)i(t)}}},i=o.Token=function(e,t,n,o,i){this.type=e,this.content=t,this.alias=n,this.matchedStr=o||null,this.greedy=!!i};if(i.stringify=function(e,t,n){if("string"==typeof e)return e;if("Array"===o.util.type(e))return e.map(function(n){return i.stringify(n,t,e)}).join("");var r={type:e.type,content:i.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n};if("comment"==r.type&&(r.attributes.spellcheck="true"),e.alias){var a="Array"===o.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(r.classes,a)}o.hooks.run("wrap",r);var s="";for(var l in r.attributes)s+=(s?" ":"")+l+'="'+(r.attributes[l]||"")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+(s?" "+s:"")+">"+r.content+"</"+r.tag+">"},!n.document)return n.addEventListener?(n.addEventListener("message",function(e){var t=JSON.parse(e.data),i=t.language,r=t.code,a=t.immediateClose;n.postMessage(o.highlight(r,o.languages[i],i)),a&&n.close()},!1),n.Prism):n.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(o.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(o.highlightAll):window.setTimeout(o.highlightAll,16):document.addEventListener("DOMContentLoaded",o.highlightAll))),n.Prism}();"undefined"!=typeof e&&e.exports&&(e.exports=o),"undefined"!=typeof t&&(t.Prism=o),o.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/i,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},o.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),o.languages.xml=o.languages.markup,o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},o.languages.css.atrule.inside.rest=o.util.clone(o.languages.css),o.languages.markup&&(o.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:o.languages.css,alias:"language-css"}}),o.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:o.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:o.languages.css}},alias:"language-css"}},o.languages.markup.tag)),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0
}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/}),o.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),o.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}}}),o.languages.markup&&o.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:o.languages.javascript,alias:"language-javascript"}}),o.languages.js=o.languages.javascript,!function(){"undefined"!=typeof self&&self.Prism&&self.document&&o.hooks.add("complete",function(e){if(e.code){var t=e.element.parentNode,n=/\s*\bline-numbers\b\s*/;if(t&&/pre/i.test(t.nodeName)&&(n.test(t.className)||n.test(e.element.className))&&!e.element.querySelector(".line-numbers-rows")){n.test(e.element.className)&&(e.element.className=e.element.className.replace(n,"")),n.test(t.className)||(t.className+=" line-numbers");var o,i=e.code.match(/\n(?!$)/g),r=i?i.length+1:1,a=new Array(r+1);a=a.join("<span></span>"),o=document.createElement("span"),o.setAttribute("aria-hidden","true"),o.className="line-numbers-rows",o.innerHTML=a,t.hasAttribute("data-start")&&(t.style.counterReset="linenumber "+(parseInt(t.getAttribute("data-start"),10)-1)),e.element.appendChild(o)}}})}(),!function(){if("undefined"!=typeof self&&self.Prism&&self.document&&document.createElement){var e={javascript:"clike",actionscript:"javascript",aspnet:"markup",bison:"c",c:"clike",csharp:"clike",cpp:"c",coffeescript:"javascript",crystal:"ruby","css-extras":"css",d:"clike",dart:"clike",fsharp:"clike",glsl:"clike",go:"clike",groovy:"clike",haml:"ruby",handlebars:"markup",haxe:"clike",jade:"javascript",java:"clike",kotlin:"clike",less:"css",markdown:"markup",nginx:"clike",objectivec:"c",parser:"markup",php:"clike","php-extras":"php",processing:"clike",protobuf:"clike",qore:"clike",jsx:["markup","javascript"],ruby:"clike",sass:"css",scss:"css",scala:"java",smarty:"markup",swift:"clike",textile:"markup",twig:"markup",typescript:"javascript",wiki:"markup"},t={},n="none",i=o.plugins.autoloader={languages_path:"../assets/js/prism-components/",use_minified:!0},r=function(e,t,n){var o=document.createElement("script");o.src=e,o.async=!0,o.onload=function(){document.body.removeChild(o),t&&t()},o.onerror=function(){document.body.removeChild(o),n&&n()},document.body.appendChild(o)},a=function(e){return i.languages_path+"prism-"+e+(i.use_minified?".min":"")+".js"},s=function(e,n){var i=t[e];i||(i=t[e]={});var r=n.getAttribute("data-dependencies");!r&&n.parentNode&&"pre"===n.parentNode.tagName.toLowerCase()&&(r=n.parentNode.getAttribute("data-dependencies")),r=r?r.split(/\s*,\s*/g):[],l(r,function(){c(e,function(){o.highlightElement(n)})})},l=function(e,t,n){"string"==typeof e&&(e=[e]);var o=0,i=e.length,r=function r(){i>o?c(e[o],function(){o++,r()},function(){n&&n(e[o])}):o===i&&t&&t(e)};r()},c=function n(i,s,c){var n=function e(){var n=!1;i.indexOf("!")>=0&&(n=!0,i=i.replace("!",""));var l=t[i];if(l||(l=t[i]={}),s&&(l.success_callbacks||(l.success_callbacks=[]),l.success_callbacks.push(s)),c&&(l.error_callbacks||(l.error_callbacks=[]),l.error_callbacks.push(c)),!n&&o.languages[i])u(i);else if(!n&&l.error)h(i);else if(n||!l.loading){l.loading=!0;var e=a(i);r(e,function(){l.loading=!1,u(i)},function(){l.loading=!1,l.error=!0,h(i)})}},p=e[i];p&&p.length?l(p,n):n()},u=function(e){t[e]&&t[e].success_callbacks&&t[e].success_callbacks.length&&t[e].success_callbacks.forEach(function(t){t(e)})},h=function(e){t[e]&&t[e].error_callbacks&&t[e].error_callbacks.length&&t[e].error_callbacks.forEach(function(t){t(e)})};o.hooks.add("complete",function(e){e.element&&e.language&&!e.grammar&&e.language!==n&&s(e.language,e.element)})}}()}).call(t,function(){return this}())}],callLogicFunc:function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)},init:function(){this.callLogicFunc(this.callFunc)}}}(jQuery),function(e,t,n,o){function i(t,o){var i=e.extend({},e.fn.socialShare.defaults,o),r="<a class='msb_main btn btn-circle-small share i-share bg-feed'></a>",h="<div class='social_group'><a target='_blank' class='msb_network_button weixin'>weixin</a><a target='_blank' class='msb_network_button sina'>sina</a><a target='_blank' class='msb_network_button tQQ'>tQQ</a><a target='_blank' class='msb_network_button qZone'>qZone</a><a target='_blank' class='msb_network_button douban'>douban</a></div>";e(t).append(r),e(t).append(h),e(t).addClass("socialShare"),e(n).on("click",".msb_network_button.tQQ",function(){a(this,i)}),e(n).on("click",".msb_network_button.qZone",function(){s(this,i)}),e(n).on("click",".msb_network_button.sina",function(){l(this,i)}),e(n).on("click",".msb_network_button.douban",function(){c(this,i)}),e(n).on("click",".msb_network_button.weixin",function(){u(this,i)}),e(n).on("click",".msb_main",function(){if(!e(this).hasClass("disabled")){var t=100,n=50,o=e(this).parent().find(".msb_network_button").length,i=40,r=t+(o-1)*n,a=1,s=e(this).outerWidth(),l=e(this).outerHeight(),c=e(this).parent().find(".msb_network_button:eq(0)").outerWidth(),u=e(this).parent().find(".msb_network_button:eq(0)").outerHeight(),h=(s-c)/2,p=(l-u)/2,d=0*Math.PI;e(this).hasClass("active")?(a=o,e(this).addClass("disabled").delay(r).queue(function(t){e(this).removeClass("disabled").removeClass("active"),t()}),e(this).parent().find(".msb_network_button").each(function(){e(this).stop().delay(n*a).animate({left:h,top:p},t),a--})):(e(this).addClass("disabled").delay(r).queue(function(t){e(this).removeClass("disabled").addClass("active"),t()}),e(this).parent().find(".msb_network_button").each(function(){var o=h+(h+i*a)*Math.cos(d),r=p+(p+i*a)*Math.sin(d);e(this).css({display:"block",left:h+"px",top:p+"px"}).stop().delay(n*a).animate({left:o+"px",top:r+"px"},t),a++}))}})}function r(e,t){return e=e.replace("{url}",t.url),e=e.replace("{title}",t.title),e=e.replace("{content}",t.content),e=e.replace("{pic}",t.pic)}function a(n,o){var o=e.extend({},e.fn.socialShare.defaults,o);t.open(r(d,o))}function s(n,o){var o=e.extend({},e.fn.socialShare.defaults,o);t.open(r(h,o))}function l(n,o){var o=e.extend({},e.fn.socialShare.defaults,o);t.open(r(p,o))}function c(n,o){t.open(r(f,e.extend({},e.fn.socialShare.defaults,o)))}function u(n,o){t.open(r(g,e.extend({},e.fn.socialShare.defaults,o)))}e.fn.socialShare=function(t,n){if("string"==typeof t){var o=e.fn.socialShare.methods[t];if(o)return o(this,n)}else i(this,t)},e.fn.socialShare.defaults={url:t.location.href,title:n.title,content:"",pic:""},e.fn.socialShare.methods={init:function(e,t){return e.each(function(){i(this,t)})},tQQ:function(e,t){return e.each(function(){a(this,t)})},qZone:function(e,t){return e.each(function(){s(this,t)})},sinaWeibo:function(e,t){return e.each(function(){l(this,t)})},doubanShare:function(e,t){return e.each(function(){c(this,t)})},weixinShare:function(e,t){return e.each(function(){u(this,t)})}};var h="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&pics={pic}&summary={content}",p="http://service.weibo.com/share/share.php?url={url}&title={title}&text={content}&pic={pic}&searchPic=false",d="http://share.v.t.qq.com/index.php?c=share&a=index&url={url}&title={title}&appkey=801cf76d3cfc44ada52ec13114e84a96",f="http://www.douban.com/share/service?href={url}&name={title}&text={content}&image={pic}",g="http://qr.liantu.com/api.php?text={url}"}(jQuery,window,document),function(e,t){window.app=window.app||{},window.app={page:1,instantClickInitApp:function(){this.appCoverScroll(),this.articleLearnNext(),this.articleLearnPrev(),this.duoshuoCommentLayer("#post-comments"),this.duoshuoCommentCountForArticle(),this.duoshuocommentCountForArticles(),this.seachSuggest(),this.socialShare()},documentReadyInitApp:function(){this.articleLearnNext(),this.articleLearnPrev(),this.duoshuoCommentLayer("#post-comments"),this.duoshuoCommentCountForArticle(),this.duoshuocommentCountForArticles(),this.socialShare()},duoshuoAddJs:function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js",e.charset="UTF-8",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)},duoshuoCommentLayer:function(t){var n=e(".ds-thread-hidden").attr("data"),o=e(".ds-thread-hidden").attr("url"),i=document.createElement("div");i.setAttribute("data-thread-key",n),i.setAttribute("data-url",o),DUOSHUO.EmbedThread(i),jQuery(t).append(i)},duoshuoCommentCountForArticle:function(){var n=e(".duoshuo-comment-count").attr("data");n!==t&&(countUrl="https://api.duoshuo.com/threads/counts.jsonp?short_name=qingtianxueri&threads="+n,e.ajax({type:"get",async:!0,url:countUrl,dataType:"jsonp",success:function(t){0==t.code&&(commentCount=t.response[n].comments,e(".duoshuo-comment-count").text(commentCount+"条评论"))}}))},duoshuocommentCountForArticles:function(){e(".entry-pagination").each(function(){var t=e(this).find(".duoshuo-entry-comment-count").attr("data"),n=e(this);countUrl="https://api.duoshuo.com/threads/counts.jsonp?short_name=qingtianxueri&threads="+t,e.ajax({type:"get",async:!0,url:countUrl,dataType:"jsonp",success:function(e){0==e.code&&(commentCount=e.response[t].comments,n.find(".duoshuo-entry-comment-count").text(commentCount+"条评论"))}})})},seachSuggest:function(){var t=e("#header"),n=e("body").attr("mapache-page-url"),o=e(".search-field");o.focus(function(){t.addClass("is-showSearch"),e(".search-popout").removeClass("closed")}),o.blur(function(){setTimeout(function(){t.removeClass("is-showSearch"),e(".search-popout").addClass("closed")},200)}),o.keyup(function(){e(".search-suggest-results").css("display","block")}),o.ghostHunter({results:"#search-results",zeroResultsInfo:!1,displaySearchInfo:!1,result_template:'<a href="'+n+'{{link}}">{{title}}</a>',onKeyUp:!0})},appCoverScroll:function(){e(window).scroll(function(){var t=e(window).scrollTop(),n=e("#cover").height()-e("#header").height(),o=(n-t)/n;t>=n?e("#header").addClass("toolbar-shadow").removeAttr("style"):e("#header").removeClass("toolbar-shadow").css({background:"transparent"}),e(".cover-wrap").css("opacity",o)})},articleLearnNext:function(){appSelf=this,$pagination=e("#pagination"),pageTotal=$pagination.attr("mapache-page"),$win=e(window),pageTotal>appSelf.page&&e(".pagination").css("display","block"),$pagination.on("click",function(e){e.preventDefault(),$pagination.addClass("infinite-scroll"),appSelf.page<=pageTotal&&(appSelf.page++,appSelf.getPostPrivate("next"))})},articleLearnPrev:function(){appSelf=this,$pagination=e("#prev-pagination"),pageTotal=$pagination.attr("mapache-page"),$win=e(window),$pagination.on("click",function(e){e.preventDefault(),$pagination.addClass("infinite-scroll"),appSelf.page<=pageTotal&&(appSelf.page--,appSelf.getPostPrivate("prev"))})},getPostPrivate:function(t){pageTotal=$pagination.attr("mapache-page"),appSelf=this,gd_cover_height=e("#cover").height()-e("#header").height(),urlProtocol=window.location.protocol,urlPage=window.location.host,"next"==t&&e("#pagination").addClass("loanding").html("下一页"),"prev"==t&&e("#prev-pagination").addClass("loanding").html("上一页"),fetch(urlProtocol+"//"+urlPage+"/page/"+appSelf.page).then(function(e){return e.text()}).then(function(n){setTimeout(function(){var o=e(".entry-pagination",n);e(".feed-wrapper").html(o),appSelf.page>=pageTotal?e("#pagination").attr("disabled","disabled"):e("#pagination").removeAttr("disabled"),appSelf.page<=1?e("#prev-pagination").attr("disabled","disabled"):e("#prev-pagination").removeAttr("disabled"),"next"==t&&e("#pagination").removeClass("loanding").html("下一页"),"prev"==t&&e("#prev-pagination").removeClass("loanding").html("上一页"),e("html, body").animate({scrollTop:gd_cover_height},500)},1e3)}).catch(function(e){console.log("Oops, error")}),console.log(appSelf.page)},socialShare:function(){e("#socialShare").socialShare({content:"test content",url:window.location.href,titile:document.title})}}}(jQuery);